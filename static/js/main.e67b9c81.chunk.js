(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},116:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(32),r=a.n(c),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,225)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},i=a(27),l=a(10),d=(a(96),a(11)),u=a(9),j=a(24),b=a.n(j),h=a(36),p=a(4),m=a(5),O=a(20),f=a(8),g=a(7),x=a(91),v=a(86),S=a(12),y=a(13),N=(a(23),a(1));var C=function(e){return sessionStorage.setItem("trashDate",null),Object(N.jsx)("input",{type:"date",onChange:function(e){sessionStorage.setItem("trashDate",e.target.value)}})};a(106);var I=function(e){return Object(N.jsxs)("div",{id:e.id,className:"popupContainer",children:[Object(N.jsx)("div",{className:"bgPopup"}),Object(N.jsx)("div",{className:"popupDialog",children:Object(N.jsx)("div",{className:"modalDialog",children:Object(N.jsxs)("div",{className:"popup grid-pancake",children:[Object(N.jsxs)("div",{className:"popupHeader flex-row",children:[Object(N.jsx)("div",{className:"popupTitle",children:Object(N.jsx)("h1",{children:e.title})}),Object(N.jsx)("span",{className:"closeCross",onClick:function(e){e.preventDefault(),document.getElementById("popupContainer").style.display="none"},children:Object(N.jsx)(S.a,{size:"lg",icon:y.h})})]}),Object(N.jsx)("div",{className:"popupContent",children:"function"===typeof e.content?e.content():"object"===typeof e.content?e.content:(console.warn("PLEASE provide an object or a function for the popup content"),null)})]})})})]})};a(107);var k=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),s=(a[0],a[1]),c=Object(n.useState)("popupContainer"),r=Object(u.a)(c,2),o=r[0],i=(r[1],Object(n.useState)(null)),l=Object(u.a)(i,2),d=l[0],j=l[1],b=Object(n.useState)(Object(N.jsx)("p",{children:"Anythings has been set"})),h=Object(u.a)(b,2),p=h[0],m=h[1],O=Object(n.useState)("none"),f=Object(u.a)(O,2),g=f[0],x=f[1],v=Object(n.useState)("none"),C=Object(u.a)(v,2),k=C[0],w=C[1],T=Object(n.useState)("none"),E=Object(u.a)(T,2),A=E[0],J=E[1],D=Object(n.useState)(0),L=Object(u.a)(D,2),B=L[0],q=L[1],F=Object(n.useState)("none"),Y=Object(u.a)(F,2),U=Y[0],P=Y[1];Object(n.useEffect)((function(){var e=sessionStorage.getItem("action");"add"===e?m(Z):"update"===e&&m(W)}),[g,k,A,B,d]);var M=Object(N.jsxs)("p",{className:"labelText",children:["This params will defined the name of your trash. You can choose any name you want but ",Object(N.jsx)("strong",{children:"#"})," is prohibited (the app will crash if you do that). This name will also being used as the event name in the calendar."]}),R=Object(N.jsxs)("p",{className:"labelText",children:["This params will defined the event background color. It can be any css color format like rgb code, hex, hsl... picked using the color picker above. For more details you can check the"," ",Object(N.jsx)("a",{href:"https://developer.mozilla.org",children:"Mozilla Documentation"}),"). You can also leave it blank if you just want the blue default color."]}),z=Object(N.jsxs)("p",{className:"labelText",children:["This params will defined the event text color. It can be any css color format like rgb code, hex, hsl... picked using the color picker above. For more details you can check the"," ",Object(N.jsx)("a",{href:"https://developer.mozilla.org",children:"Mozilla Documentation"}),"). You can also leave it blank if you just want the white default text color. If you have changed the default color you should check if you can read the text on the selected background."]}),G=Object(N.jsx)("p",{className:"labelText",children:"Defined the price of your trash."}),W=Object(N.jsx)("form",{id:"contentEdit",onSubmit:X,autoComplete:"off",children:Object(N.jsxs)("div",{id:"trashName",className:"flex-col",children:[Object(N.jsxs)("label",{id:"content-1",required:!0,children:[Object(N.jsx)("strong",{children:"Trash name"}),Object(N.jsx)("input",{id:"trashNameAdd",type:"text",className:"formTextField",value:g,onChange:function(e){x((function(){return e.target.value}))}}),M]}),Object(N.jsxs)("label",{id:"content-2",required:!0,children:[Object(N.jsx)("strong",{children:"Trash Color (background)"}),Object(N.jsx)("input",{id:"trashColorAdd",type:"color",value:k,onChange:function(e){w((function(){return e.target.value}))},className:"formTextField"}),R]}),Object(N.jsxs)("label",{id:"content-3",required:!0,children:[Object(N.jsx)("strong",{children:"Trash Color (text)"}),Object(N.jsx)("input",{id:"trashTextColorAdd",type:"color",value:A,onChange:function(e){J((function(){return e.target.value}))},className:"formTextField"}),z]}),Object(N.jsxs)("label",{id:"content-4",required:!0,children:[Object(N.jsx)("strong",{children:"Trash price (set no currency)"}),Object(N.jsx)("input",{id:"trashPrice",type:"number",className:"formTextField",value:B,onChange:function(e){q((function(){return e.target.value}))}}),G]}),Object(N.jsxs)("div",{id:"buttonContainerTL",className:"buttonContainerMul",children:[Object(N.jsx)("div",{id:"buttonContainer1",children:Object(N.jsxs)("button",{className:"button buttonIcon",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("trashList"));console.log(U),t.splice(U,1),localStorage.setItem("trashList",JSON.stringify(t)),localStorage.removeItem("calendar".concat(g.toUpperCase())),s((function(e){return!e})),_(e)},children:[Object(N.jsx)(S.a,{icon:y.j}),Object(N.jsx)("p",{children:"Delete Trash"})]})}),Object(N.jsxs)("div",{id:"buttonContainer2",className:"buttonContainerSi",children:[Object(N.jsxs)("button",{className:"button buttonIcon",type:"submit",children:[Object(N.jsx)(S.a,{icon:y.g}),Object(N.jsx)("p",{children:"Save"})]}),Object(N.jsxs)("button",{className:"button buttonIcon",onClick:_,children:[Object(N.jsx)(S.a,{icon:y.i}),Object(N.jsx)("p",{children:"Discard"})]})]})]})]})}),Z=Object(N.jsx)("form",{id:"contentEdit",onSubmit:X,autoComplete:"off",children:Object(N.jsxs)("div",{id:"trashName",className:"flex-col",children:[Object(N.jsxs)("label",{id:"content-1",required:!0,children:[Object(N.jsx)("strong",{children:"Trash name"}),Object(N.jsx)("input",{id:"trashNameAdd",type:"text",className:"formTextField",value:g,onChange:function(e){x((function(){return e.target.value}))}}),M]}),Object(N.jsxs)("label",{id:"content-2",required:!0,children:[Object(N.jsx)("strong",{children:"Trash Color (background)"}),Object(N.jsx)("input",{id:"trashColorAdd",type:"color",value:k,onChange:function(e){w((function(){return e.target.value}))},className:"formTextField"}),R]}),Object(N.jsxs)("label",{id:"content-3",required:!0,children:[Object(N.jsx)("strong",{children:"Trash Color (text)"}),Object(N.jsx)("input",{id:"trashTextColorAdd",type:"color",value:A,onChange:function(e){J((function(){return e.target.value}))},className:"formTextField"}),z]}),Object(N.jsxs)("label",{id:"content-4",required:!0,children:[Object(N.jsx)("strong",{children:"Trash price (set no currency)"}),Object(N.jsx)("input",{id:"trashPrice",type:"number",className:"formTextField",value:B,onChange:function(e){q((function(){return e.target.value}))}}),G]}),Object(N.jsxs)("div",{id:"buttonContainer",className:"buttonContainerMul",children:[Object(N.jsxs)("button",{className:"button buttonIcon",type:"submit",children:[Object(N.jsx)(S.a,{icon:y.g}),Object(N.jsx)("p",{children:"Save"})]}),Object(N.jsxs)("button",{className:"button buttonIcon",onClick:_,children:[Object(N.jsx)(S.a,{icon:y.i}),Object(N.jsx)("p",{children:"Discard"})]})]})]})});function H(){var t,a=localStorage.getItem("trashList");try{(a=JSON.parse(a))[0].name;t=!0}catch(c){t=!1,console.warn(c)}if(!0!==t)return"select"===e.type?Object(N.jsx)("option",{children:"Please select a trash"}):null;if("select"===e.type){var n=a.map((function(e,t){return Object(N.jsx)("option",{value:"".concat(e.name,"#").concat(t.toString()),children:e.name},e.name.toString()+t.toString())}));return sessionStorage.setItem("trashType","".concat(a[0].name,"#0")),n}if("settings"===e.type){var s=a.map((function(e,t){return Object(N.jsx)("li",{value:"".concat(e.name,"#").concat(t.toString()),className:"contentContainer",children:Object(N.jsxs)("div",{id:"trashListContent",className:"flex-row",children:[Object(N.jsx)("strong",{children:e.name}),Object(N.jsxs)("button",{value:"".concat(e.name,"#").concat(t.toString()),className:"editContentButton buttonIcon button",onClick:function(e){if(e.target.value){sessionStorage.setItem("action","update"),sessionStorage.setItem("trashType",e.target.value);var t=JSON.parse(localStorage.getItem("trashList")),a=e.target.value,n=t[a.split("#")[1]];x((function(){return n.name})),J((function(){return n.textColor})),w((function(){return n.color})),q((function(){return n.price})),P((function(){return a.split("#")[1]})),j((function(){return"Edit trash: ".concat(n.name)})),m(W),document.getElementById(o).style.display="block"}},children:[Object(N.jsx)(S.a,{icon:y.d}),"Edit Trash"]})]})},e.name.toString()+t.toString())}));return s}}function X(e){e.preventDefault();var t=document.getElementById("trashNameAdd").value,a=document.getElementById("trashColorAdd").value,n=document.getElementById("trashTextColorAdd").value,s=JSON.parse(localStorage.getItem("trashList"))||[],c=sessionStorage.getItem("action");if(t=t||null){if("add"===c){for(var r=!1,o=0;o<s.length;o++)s[o].name===t&&(r=!0);!1===r?(s.push({name:t,color:a,textColor:n,price:parseInt(B)}),localStorage.setItem("calendar".concat(t.toUpperCase()),JSON.stringify([{}])),console.log(s)):alert("Please provide a different name than already existing one")}else if("update"===c){var i=sessionStorage.getItem("trashType"),l=JSON.parse(localStorage.getItem("calendar".concat(i.split("#")[0].toUpperCase())));localStorage.removeItem("calendar".concat(i.split("#")[0].toUpperCase())),s[i.split("#")[1]]={name:t,color:a,textColor:n,price:parseInt(B)},l.forEach((function(e){e.title=t})),localStorage.setItem("calendar".concat(t.toUpperCase()),JSON.stringify(l))}else console.warn("handleSummit has been called but nothing was done");localStorage.setItem("trashList",JSON.stringify(s))}_(e,!0)}function _(e,t){var a=t||!1;e.preventDefault(),document.getElementById("trashNameAdd").value="",document.getElementById("trashColorAdd").value="",document.getElementById("trashTextColorAdd").value="",document.getElementById(o).style.display="none",!0===a&&s((function(e){return!e}))}return"select"===e.type?Object(N.jsx)("select",{required:!0,name:"TrashList",onChange:function(e){sessionStorage.setItem("trashType",e.target.value)},children:H()}):"settings"===e.type?Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"trashListContainer",children:[Object(N.jsx)("ul",{className:"trashList",children:H()}),Object(N.jsx)("div",{className:"buttonContainerSi",children:Object(N.jsxs)("button",{className:"buttonIcon button",onClick:function(){sessionStorage.setItem("action","add"),x((function(){return""})),w((function(){return"#3788d8"})),J((function(){return"#ffffff"})),q((function(){return 0})),j((function(){return"Add a new trash"})),m(Z),document.getElementById(o).style.display="block"},children:[Object(N.jsx)(S.a,{icon:y.f}),Object(N.jsx)("p",{children:"Add A New Trash"})]})})]}),Object(N.jsx)(I,{id:o,content:p,title:d})]}):null};a(108);var w=function(e){return Object(N.jsxs)("form",{id:e.id,className:"inputsForm",onSubmit:e.handleSubmit,autoComplete:"on",required:!0,children:[Object(N.jsxs)("div",{className:"flex-row input-zone",children:[Object(N.jsxs)("label",{className:"content-1",required:!0,children:[Object(N.jsx)("h2",{children:"Trash Selector"}),Object(N.jsx)(k,{type:"select"})]}),Object(N.jsxs)("label",{className:"content-2",required:!0,children:[Object(N.jsx)("h2",{children:"Time picker"}),Object(N.jsx)(C,{})]})]}),Object(N.jsx)("div",{className:"buttonContainerSi",children:Object(N.jsxs)("button",{disabled:e.disabled,className:"buttonIcon button",type:"submit",children:[Object(N.jsx)(S.a,{icon:y.f}),Object(N.jsx)("p",{children:e.buttonMessage})]})})]})},T=(a(109),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).calendarRef=s.a.createRef(),n.state={disabled:!1,bannerType:"info",bannerContent:Object(N.jsx)("p",{children:"No Message has been set"}),display:!1},n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n.handleDelete=n.handleDelete.bind(Object(O.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setCalendar()}},{key:"setCalendar",value:function(){var e=Object(h.a)(b.a.mark((function e(){var t,a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.calendarRef.current.getApi(),a=localStorage.getItem("trashList"),this.noTrashSet(),a){console.log("trashList EXIST");try{a=JSON.parse(a),a[0].name,this.setState({disabled:!1}),this.trashSet()}catch(c){this.noTrashSet(),console.warn(c)}if(!1===this.state.disabled){for(n=function(e){t.addEventSource({events:function(t,n,s){try{n(JSON.parse(localStorage.getItem("calendar".concat(a[e].name.toUpperCase()))))}catch(c){console.warn(c),s([{}])}},color:a[e].color,textColor:a[e].textColor,id:"calendar".concat(a[e].name.toUpperCase())})},s=0;s<a.length;s++)n(s);t.refetchEvents()}}else this.noTrashSet();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"noTrashSet",value:function(){document.querySelectorAll("[type='date']").forEach((function(e){e.setAttribute("disabled","true")})),document.querySelectorAll("[name='TrashList']").forEach((function(e){e.setAttribute("disabled","true")})),console.log("trashList DOESNT EXIST"),this.setState({disabled:!0}),this.setState({bannerType:"warning"}),this.setState({bannerContent:Object(N.jsx)("p",{className:"clickable",onClick:function(){document.querySelector("a[href='/settings']").click()},children:"Please set at least one trash in the settings"})}),this.setState({display:!0})}},{key:"trashSet",value:function(){this.setState({display:!1}),this.setState({disabled:!1}),document.querySelectorAll("[type='date']").forEach((function(e){e.removeAttribute("disabled")})),document.querySelectorAll("[name='TrashList']").forEach((function(e){e.removeAttribute("disabled")}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("trashList")),a=sessionStorage.getItem("trashType"),n="calendar"+t[a.split("#")[1]].name.toUpperCase(),s=JSON.parse(localStorage.getItem(n));s.push({title:a.split("#")[0],date:sessionStorage.getItem("trashDate")}),localStorage.setItem(n,JSON.stringify(s)),this.calendarRef.current.getApi().refetchEvents();var c,r=localStorage.getItem("stats"),o=sessionStorage.getItem("trashDate").split("-"),i=Object(u.a)(o,3),l=i[0],j=i[1];i[2];try{(r=JSON.parse(r)).minYear;c=!0}catch(h){c=!1}if(!0===c){console.log("\nstats exist"),r.minYear>l&&(r.minYear=l,console.log("minYear is not the minus")),r.maxYear<l&&(r.maxYear=l,console.log("maxYear is not the biggest one"));try{console.log("check if trash exist"),r.year[l][a.split("#")[0]]?(console.log("trash exist"),r.year[l][a.split("#")[0]][parseInt(j)-1]++):(console.log("trash doesn't exist"),r.year[l][a.split("#")[0]]=[0,0,0,0,0,0,0,0,0,0,0,0],r.year[l][a.split("#")[0]][parseInt(j)-1]=1)}catch(h){console.log("year is not set","\n",h),r.year[l]=Object(d.a)({},a.split("#")[0],[0,0,0,0,0,0,0,0,0,0,0,0]),r.year[l][a.split("#")[0]][parseInt(j)-1]=1}localStorage.setItem("stats",JSON.stringify(r))}else{console.log("\nstats doesn't exist");var b={maxYear:l,minYear:l,year:Object(d.a)({},l,Object(d.a)({},a.split("#")[0],[0,0,0,0,0,0,0,0,0,0,0,0]))};b.year[l][a.split("#")[0]][parseInt(j)-1]=1,localStorage.setItem("stats",JSON.stringify(b))}}},{key:"handleDelete",value:function(e){e.preventDefault(),console.log("delete event");var t=document.querySelector("[id='delete'] input").value.split("-"),a=Object(u.a)(t,3),n=a[0],s=a[1],c=a[2];if(console.log(c),""!==c){console.log("delete begin");var r=JSON.parse(localStorage.getItem("stats")),o=document.querySelector("[id='delete'] select").value.split("#"),i=Object(u.a)(o,2),l=i[0],d=(i[1],"calendar"+l.toUpperCase()),j=JSON.parse(localStorage.getItem(d)),b=!1;if(j.forEach((function(e,t){!1===b&&e.date==="".concat(n,"-").concat(s,"-").concat(c)&&(j.splice(t,1),b=!0)})),!0===b)console.log(r,n,l,parseInt(s)),r.year[n][l][parseInt(s)-1]--,localStorage.setItem(d,JSON.stringify(j)),localStorage.setItem("stats",JSON.stringify(r)),this.calendarRef.current.getApi().refetchEvents();else alert("No trash set for ".concat(l," the ").concat(n,"-").concat(s,"-").concat(c))}}},{key:"render",value:function(){return Object(N.jsx)("div",{className:"pageWrapper",children:Object(N.jsx)("div",{className:"pageScrollContainer",children:Object(N.jsx)("div",{id:"home",className:"page-frame",children:Object(N.jsxs)("div",{className:"grid",children:[Object(N.jsx)("div",{id:"calendar-container",className:"display-container",children:Object(N.jsx)(x.a,{ref:this.calendarRef,plugins:[v.a],initialView:"dayGridMonth",weekNumbers:!0,weekNumberFormat:{week:"numeric"}})}),Object(N.jsxs)("div",{id:"input-container",className:"display-container",children:[Object(N.jsxs)("div",{className:"inputBox",children:[Object(N.jsx)("h1",{className:"titleUnderline",children:"Add new event"}),Object(N.jsx)(w,{id:"add",disabled:this.state.disabled,buttonMessage:"Add a new event",handleSubmit:this.handleSubmit})]}),Object(N.jsxs)("div",{className:"inputBox",children:[Object(N.jsx)("h1",{className:"titleUnderline",children:"Remove event"}),Object(N.jsx)(w,{id:"delete",disabled:this.state.disabled,buttonMessage:"Delete an Event",handleSubmit:this.handleDelete})]})]})]})})})})}}]),a}(s.a.Component)),E=T,A=a.p+"static/media/undraw_lost_1.a5d55033.svg";a(110);var J=function(e){var t=Object(l.f)();function a(){t.push("/")}return Object(N.jsx)("div",{children:function(){if("404"===e.errorCode)return Object(N.jsxs)("div",{className:"pageWrapper",children:[Object(N.jsx)("div",{className:"pageScrollContainer",children:Object(N.jsxs)("div",{id:"error-404",className:"flex-col page-frame",children:[Object(N.jsx)("img",{src:A,alt:"A lost person with a tree"}),Object(N.jsxs)("strong",{onClick:a,children:["No page found for: ",Object(N.jsx)("code",{children:window.location.href})]})]})}),"*"]})}()})};a(116);var D=function(e){return Object(N.jsx)("div",{className:"pageWrapper",children:Object(N.jsx)("div",{className:"pageScrollContainer",children:Object(N.jsx)("div",{id:"settings",className:"page-frame",children:Object(N.jsxs)("div",{id:"content-display",children:[Object(N.jsxs)("div",{id:"data-container",className:"display-container",children:[Object(N.jsx)("h2",{children:"Data"}),Object(N.jsxs)("div",{id:"data-button-container",className:"flex-row",children:[Object(N.jsx)("div",{children:Object(N.jsxs)("button",{className:"buttonIcon button",onClick:function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("id","inputDoc"),document.getElementById("invisibleZone").appendChild(e),e.click(),e.addEventListener("change",(function(){try{document.getElementById("inputDoc").files[0].text().then((function(t){var a=JSON.parse(t);for(var n in a)if("calendar"===n)for(var s in a[n])localStorage.setItem(s,JSON.stringify(a[n][s]));else localStorage.setItem(n,JSON.stringify(a[n]));e.remove()}))}catch(t){console.log(t),e.remove()}}))},children:[Object(N.jsx)(S.a,{icon:y.k}),Object(N.jsx)("p",{children:"Import Data"})]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("button",{className:"buttonIcon button",onClick:function(){var e={},t={};e.trashList=JSON.parse(localStorage.getItem("trashList")),e.stats=JSON.parse(localStorage.getItem("stats"));for(var a=0;a<e.trashList.length;a++)t["calendar".concat(e.trashList[a].name.toUpperCase())]=JSON.parse(localStorage.getItem("calendar".concat(e.trashList[a].name.toUpperCase())));e.calendar=t;var n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(n),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download","TrashCounterSettings.json"),document.getElementById("invisibleZone").appendChild(c),c.click(),c.remove()},children:[Object(N.jsx)(S.a,{icon:y.c}),Object(N.jsx)("p",{children:"Export Data"})]})})]})]}),Object(N.jsxs)("div",{id:"trash-container",className:"display-container",children:[Object(N.jsx)("h2",{children:"Trash"}),Object(N.jsx)(k,{type:"settings"})]}),Object(N.jsxs)("div",{id:"news-container",className:"display-container",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"News"}),Object(N.jsx)("strong",{children:"Not working yet \ud83d\ude14"})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"App information"}),Object(N.jsx)("ul",{id:"appInfo",children:Object(N.jsxs)("li",{children:["App version: ",JSON.parse(localStorage.getItem("version"))]})})]})]}),Object(N.jsxs)("div",{id:"dangerZone-container",className:"display-container",children:[Object(N.jsx)("h2",{children:"Danger Zone"}),Object(N.jsx)("div",{className:"flex-row",children:Object(N.jsxs)("button",{className:"buttonIcon button",onClick:function(e){e.preventDefault(),console.log("All was deleted"),Object.keys(localStorage).forEach((function(e){localStorage.removeItem(e)})),Object.keys(sessionStorage).forEach((function(e){sessionStorage.removeItem(e)})),window.location.reload(!0)},children:[Object(N.jsx)(S.a,{icon:y.j}),Object(N.jsx)("p",{children:"Delete all local data"})]})})]})]})})})})},L=a(38);a(222);var B=function(){var e=Object(n.useState)("none"),t=Object(u.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(0),r=Object(u.a)(c,2),o=r[0],i=r[1],l=Object(n.useState)("none"),d=Object(u.a)(l,2),j=d[0],p=d[1],m=Object(n.useState)("none"),O=Object(u.a)(m,2),f=O[0],g=O[1],x=Object(n.useState)("none"),v=Object(u.a)(x,2),S=v[0],y=v[1],C=Object(n.useState)("none"),I=Object(u.a)(C,2),k=I[0],w=I[1],T=Object(n.useState)(0),E=Object(u.a)(T,2),A=E[0],J=E[1],D=Object(n.useState)(!1),B=Object(u.a)(D,2),q=B[0],F=B[1];function Y(e){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(b.a.mark((function e(t){var a,n,c,r,o,l,d,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in a=t||JSON.parse(localStorage.getItem("stats")),n=JSON.parse(localStorage.getItem("trashList")),c={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[]},r={labels:[],datasets:[{label:"trashPrice",data:[],backgroundColor:[]}]},a.year[S.split("-")[0]]){for(l="",d=0;d<n.length;d++)o===n[d].name&&(l=n[d].color,r.labels.push(o),u=0,a.year[S.split("-")[0]][o].forEach((function(e){u+=e})),r.datasets[0].data.push(u*n[d].price),r.datasets[0].backgroundColor.push(l));c.datasets.push({label:o,data:a.year[S.split("-")[0]][o],backgroundColor:l,stack:"Stack 0"})}s((function(){return c})),i((function(){return r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(h.a)(b.a.mark((function e(t){var a,n,s,c,r,o,i,l,d,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t||JSON.parse(localStorage.getItem("stats")),n=JSON.parse(localStorage.getItem("trashList")),c={labels:[],datasets:[{label:"trashPrice",data:[],backgroundColor:[]}]},r={},(s={labels:[],datasets:[]}).labels=Object.keys(a.year),n.forEach((function(e){c.labels.push(e.name),r[e.name]={price:e.price,color:e.color}})),c.datasets[0].data=new Array(c.labels.length),c.datasets[0].backgroundColor=new Array(c.labels.length),o=function(e){var t=function(t){var c=!1,r=0;s.datasets.forEach((function(n,o){t===n.label&&(c=!0,a.year[s.labels[e]][t].forEach((function(e){r+=e})),s.datasets[o].data[e]=r)})),c||n.forEach((function(n){n.name===t&&(s.datasets.push({label:t,data:new Array(s.labels.length),backgroundColor:n.color}),a.year[s.labels[e]][t].forEach((function(e){r+=e})),s.datasets[s.datasets.length-1].data[e]=r)}))};for(var c in a.year[s.labels[e]])t(c)},i=0;i<s.labels.length;i++)o(i);for(l in a.year)for(u in d=function(e){var t=c.labels.findIndex((function(t){return t===e}));if(-1===t)console.error("ERROR WHILE CREATING DATAP2, index is equal to -1");else{var n=0;a.year[l][e].forEach((function(e){n+=e})),c.datasets[0].data[t]?c.datasets[0].data[t]+=n*r[e].price:c.datasets[0].data[t]=n*r[e].price,c.datasets[0].backgroundColor[t]||(c.datasets[0].backgroundColor[t]=r[e].color)}},a.year[l])d(u);w((function(){return s})),J((function(){return c}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=localStorage.getItem("stats");try{e=JSON.parse(e),Object.keys(e.year[e.minYear]).length>0&&(p((function(){return e.minYear+"-01-01"})),g((function(){return e.maxYear+"-12-31"})),y((function(){return"".concat((new Date).getFullYear(),"-01-01")})),F((function(){return!0})),function(e){P.apply(this,arguments)}())}catch(t){document.getElementById("statsContainer").style.display="none",console.log("no trash set")}}),[]),Object(n.useEffect)((function(){!0===q&&Y()}),[S]),Object(N.jsx)("div",{className:"pageWrapper",children:Object(N.jsx)("div",{className:"pageScrollContainer",children:Object(N.jsx)("div",{id:"stats",className:"page-frame",children:Object(N.jsxs)("div",{id:"statsContainer",className:"grid-container",children:[Object(N.jsxs)("div",{id:"currentYear",children:[Object(N.jsxs)("div",{className:"datePickerContainer",children:[Object(N.jsxs)("h1",{children:["Stats of the year ",Object(N.jsx)("em",{children:S.split("-")[0]})]}),Object(N.jsx)("input",{type:"date",min:j,max:f,value:S,onChange:function(e){e.preventDefault(),y((function(){return e.target.value})),Y()}})]}),Object(N.jsxs)("div",{id:"graphContainer",children:[Object(N.jsx)("div",{id:"trashStats",children:Object(N.jsx)(L.a,{id:"trashStatsGraph",data:a,options:{plugins:{title:{text:"Trash by month in ".concat(S.split("-")[0]),display:!0}},responsive:!0,interaction:{intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}}})}),Object(N.jsx)("div",{id:"priceStat",children:Object(N.jsx)(L.b,{id:"priceStatGraph",data:o,options:{plugins:{title:{text:"Total spend money by trash in ".concat(S.split("-")[0]),display:!0}},responsive:!0}})})]})]}),Object(N.jsxs)("div",{id:"allYear",children:[Object(N.jsx)("div",{className:"datePickerContainer",children:Object(N.jsx)("h1",{children:"Stats of years "})}),Object(N.jsxs)("div",{id:"graphContainer",children:[Object(N.jsx)("div",{id:"trashStats",children:Object(N.jsx)(L.a,{id:"trashStatsGraph",data:k,options:{plugins:{title:{text:"All years trash",display:!0}},responsive:!0,interaction:{intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}}})}),Object(N.jsx)("div",{id:"priceStat",children:Object(N.jsx)(L.b,{id:"priceStatGraph",data:A,options:{plugins:{title:{text:"All spends money",display:!0}},responsive:!0}})})]})]})]})})})})},q=(a(223),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(N.jsx)("div",{id:"NavBar",children:Object(N.jsxs)("div",{id:"NavBarContent",className:"flex-col",children:[Object(N.jsx)("div",{id:"home",className:"flex-row",children:Object(N.jsx)(i.b,{to:"/",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(N.jsxs)("div",{className:"navButtonContent",children:[Object(N.jsx)(S.a,{size:"lg",icon:y.e}),Object(N.jsx)("p",{children:"Home"})]})})}),Object(N.jsx)("div",{id:"stats",className:"flex-row",children:Object(N.jsx)(i.b,{to:"/stats",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(N.jsxs)("div",{className:"navButtonContent",children:[Object(N.jsx)(S.a,{size:"lg",icon:y.a}),Object(N.jsx)("p",{children:"Stats"})]})})}),Object(N.jsx)("div",{className:"spacerH"}),Object(N.jsx)("div",{id:"settings",className:"flex-row",children:Object(N.jsx)(i.b,{to:"/settings",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(N.jsxs)("div",{className:"navButtonContent",children:[Object(N.jsx)(S.a,{size:"lg",icon:y.b}),Object(N.jsx)("p",{children:"Settings"})]})})})]})})}}]),a}(s.a.Component)),F=q,Y=a(65);function U(e){return Object(n.useEffect)((function(){localStorage.getItem("version")?console.log("not yet coded"):(console.log("Set version: ".concat(Y.a)),localStorage.setItem("version",JSON.stringify(Y.a))),console.log("Index is mounted")}),[]),Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsxs)(i.a,{children:[Object(N.jsx)(F,{}),Object(N.jsx)("div",{id:"invisibleZone"}),Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{path:"/",exact:!0,component:E}),Object(N.jsx)(l.a,{path:"/stats",component:B}),Object(N.jsx)(l.a,{path:"/settings",component:D}),Object(N.jsx)(l.a,{path:"/",children:Object(N.jsx)(J,{errorCode:"404"})})]})]})})}r.a.render(Object(N.jsx)(U,{}),document.getElementById("root")),o()},23:function(e,t,a){},65:function(e){e.exports=JSON.parse('{"a":"0.0.0"}')},96:function(e,t,a){}},[[224,1,2]]]);
//# sourceMappingURL=main.e67b9c81.chunk.js.map