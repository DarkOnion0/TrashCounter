(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{127:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},145:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var a=n(16),s=n.n(a),c=n(25),o=n(3),r=n.n(o),i=n(34),l=n.n(i),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,254)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))},u=n(29),j=n(12),h=n(51),b=n.n(h);var p={importData:function(e){function t(e){var t=JSON.parse(e);for(var n in t)if("calendar"===n)for(var a in t[n])localStorage.setItem(a,JSON.stringify(t[n][a]));else localStorage.setItem(n,JSON.stringify(t[n]))}if("local"===e){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("id","inputDoc"),document.getElementById("invisibleZone").appendChild(n),n.click(),n.addEventListener("change",(function(){try{document.getElementById("inputDoc").files[0].text().then((function(e){t(e),n.remove()}))}catch(e){console.log(e),n.remove()}}))}else if("github"===e)b.a.get("https://api.github.com/gists/".concat(JSON.parse(localStorage.getItem("gistId"))),{headers:{Authorization:"token ".concat(JSON.parse(localStorage.getItem("githubToken")))}}).then((function(e){console.log(JSON.parse(e.data.files["localStorage.json"].content)),t(e.data.files["localStorage.json"].content)}))},exportData:function(e){var t={},n={};if(t.trashList=JSON.parse(localStorage.getItem("trashList")),t.stats=JSON.parse(localStorage.getItem("stats")),t.trashList){for(var a=0;a<t.trashList.length;a++)n["calendar".concat(t.trashList[a].name.toUpperCase())]=JSON.parse(localStorage.getItem("calendar".concat(t.trashList[a].name.toUpperCase())));t.calendar=n}if(console.log(t),"local"===e){var s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),c=URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("href",c),o.setAttribute("download","TrashCounterSettings.json"),document.getElementById("invisibleZone").appendChild(o),o.click(),o.remove()}else if("github"===e)b.a.patch("https://api.github.com/gists/".concat(JSON.parse(localStorage.getItem("gistId"))),{files:{"localStorage.json":{content:JSON.stringify(t,null,2)}}},{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token ".concat(JSON.parse(localStorage.getItem("githubToken")))}}).then((function(e){console.log(e)}))}},g=(n(127),n(13)),m=n(9),O=n(4),f=n(5),x=n(22),v=n(8),S=n(7),y=n(104),N=n(99),I=n(10),C=n(11),k=(n(26),n(0));var T=function(e){return sessionStorage.setItem("trashDate",null),Object(k.jsx)("input",{type:"date",onChange:function(e){sessionStorage.setItem("trashDate",e.target.value)}})};n(135);var J=function(e){return Object(k.jsxs)("div",{id:e.id,className:"popupContainer",children:[Object(k.jsx)("div",{className:"bgPopup"}),Object(k.jsx)("div",{className:"popupDialog",children:Object(k.jsx)("div",{className:"modalDialog",children:Object(k.jsxs)("div",{className:"popup grid-pancake",children:[Object(k.jsxs)("div",{className:"popupHeader flex-row",children:[Object(k.jsx)("div",{className:"popupTitle",children:Object(k.jsx)("h1",{children:e.title})}),Object(k.jsx)("span",{className:"closeCross",onClick:function(t){t.preventDefault(),document.getElementById(e.id).style.display="none"},children:Object(k.jsx)(I.a,{size:"lg",icon:C.i})})]}),Object(k.jsx)("div",{className:"popupContent",children:"function"===typeof e.content?e.content():"object"===typeof e.content?e.content:(console.warn("PLEASE provide an object or a function for the popup content"),null)})]})})})]})};n(136);var w=function(e){var t=Object(o.useState)(!0),n=Object(m.a)(t,2),a=(n[0],n[1]),s=Object(o.useState)("popupContainer"),c=Object(m.a)(s,2),r=c[0],i=(c[1],Object(o.useState)(null)),l=Object(m.a)(i,2),d=l[0],u=l[1],j=Object(o.useState)(Object(k.jsx)("p",{children:"Anythings has been set"})),h=Object(m.a)(j,2),b=h[0],g=h[1],O=Object(o.useState)("none"),f=Object(m.a)(O,2),x=f[0],v=f[1],S=Object(o.useState)("none"),y=Object(m.a)(S,2),N=y[0],T=y[1],w=Object(o.useState)("none"),E=Object(m.a)(w,2),A=E[0],D=E[1],L=Object(o.useState)(0),B=Object(m.a)(L,2),q=B[0],P=B[1],Y=Object(o.useState)("none"),F=Object(m.a)(Y,2),G=F[0],M=F[1];Object(o.useEffect)((function(){var e=sessionStorage.getItem("action");"add"===e?g(Z):"update"===e&&g(W)}),[x,N,A,q,d]);var z=Object(k.jsxs)("p",{className:"labelText",children:["This params will defined the name of your trash. You can choose any name you want but ",Object(k.jsx)("strong",{children:"#"})," is prohibited (the app will crash if you do that). This name will also being used as the event name in the calendar."]}),U=Object(k.jsxs)("p",{className:"labelText",children:["This params will defined the event background color. It can be any css color format like rgb code, hex, hsl... picked using the color picker above. For more details you can check the"," ",Object(k.jsx)("a",{href:"https://developer.mozilla.org",children:"Mozilla Documentation"}),"). You can also leave it blank if you just want the blue default color."]}),R=Object(k.jsxs)("p",{className:"labelText",children:["This params will defined the event text color. It can be any css color format like rgb code, hex, hsl... picked using the color picker above. For more details you can check the"," ",Object(k.jsx)("a",{href:"https://developer.mozilla.org",children:"Mozilla Documentation"}),"). You can also leave it blank if you just want the white default text color. If you have changed the default color you should check if you can read the text on the selected background."]}),H=Object(k.jsx)("p",{className:"labelText",children:"Defined the price of your trash."}),W=Object(k.jsx)("form",{id:"contentEdit",onSubmit:X,autoComplete:"off",children:Object(k.jsxs)("div",{id:"trashName",className:"flex-col",children:[Object(k.jsxs)("label",{id:"content-1",required:!0,children:[Object(k.jsx)("strong",{children:"Trash name"}),Object(k.jsx)("input",{id:"trashNameAdd",type:"text",className:"formTextField",value:x,onChange:function(e){v((function(){return e.target.value}))}}),z]}),Object(k.jsxs)("label",{id:"content-2",required:!0,children:[Object(k.jsx)("strong",{children:"Trash Color (background)"}),Object(k.jsx)("input",{id:"trashColorAdd",type:"color",value:N,onChange:function(e){T((function(){return e.target.value}))},className:"formTextField"}),U]}),Object(k.jsxs)("label",{id:"content-3",required:!0,children:[Object(k.jsx)("strong",{children:"Trash Color (text)"}),Object(k.jsx)("input",{id:"trashTextColorAdd",type:"color",value:A,onChange:function(e){D((function(){return e.target.value}))},className:"formTextField"}),R]}),Object(k.jsxs)("label",{id:"content-4",required:!0,children:[Object(k.jsx)("strong",{children:"Trash price (set no currency)"}),Object(k.jsx)("input",{id:"trashPrice",type:"number",className:"formTextField",value:q,onChange:function(e){P((function(){return e.target.value}))}}),H]}),Object(k.jsxs)("div",{id:"buttonContainerTL",className:"buttonContainerMul",children:[Object(k.jsx)("div",{id:"buttonContainer1",children:Object(k.jsxs)("button",{className:"button buttonIcon",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("trashList"));console.log(G),t.splice(G,1),localStorage.setItem("trashList",JSON.stringify(t)),localStorage.removeItem("calendar".concat(x.toUpperCase())),a((function(e){return!e})),_(e)},children:[Object(k.jsx)(I.a,{icon:C.k}),Object(k.jsx)("p",{children:"Delete Trash"})]})}),Object(k.jsxs)("div",{id:"buttonContainer2",className:"buttonContainerSi",children:[Object(k.jsxs)("button",{className:"button buttonIcon",type:"submit",children:[Object(k.jsx)(I.a,{icon:C.h}),Object(k.jsx)("p",{children:"Save"})]}),Object(k.jsxs)("button",{className:"button buttonIcon",onClick:_,children:[Object(k.jsx)(I.a,{icon:C.j}),Object(k.jsx)("p",{children:"Discard"})]})]})]})]})}),Z=Object(k.jsx)("form",{id:"contentEdit",onSubmit:X,autoComplete:"off",children:Object(k.jsxs)("div",{id:"trashName",className:"flex-col",children:[Object(k.jsxs)("label",{id:"content-1",required:!0,children:[Object(k.jsx)("strong",{children:"Trash name"}),Object(k.jsx)("input",{id:"trashNameAdd",type:"text",className:"formTextField",value:x,onChange:function(e){v((function(){return e.target.value}))}}),z]}),Object(k.jsxs)("label",{id:"content-2",required:!0,children:[Object(k.jsx)("strong",{children:"Trash Color (background)"}),Object(k.jsx)("input",{id:"trashColorAdd",type:"color",value:N,onChange:function(e){T((function(){return e.target.value}))},className:"formTextField"}),U]}),Object(k.jsxs)("label",{id:"content-3",required:!0,children:[Object(k.jsx)("strong",{children:"Trash Color (text)"}),Object(k.jsx)("input",{id:"trashTextColorAdd",type:"color",value:A,onChange:function(e){D((function(){return e.target.value}))},className:"formTextField"}),R]}),Object(k.jsxs)("label",{id:"content-4",required:!0,children:[Object(k.jsx)("strong",{children:"Trash price (set no currency)"}),Object(k.jsx)("input",{id:"trashPrice",type:"number",className:"formTextField",value:q,onChange:function(e){P((function(){return e.target.value}))}}),H]}),Object(k.jsxs)("div",{id:"buttonContainer",className:"buttonContainerMul",children:[Object(k.jsxs)("button",{className:"button buttonIcon",type:"submit",children:[Object(k.jsx)(I.a,{icon:C.h}),Object(k.jsx)("p",{children:"Save"})]}),Object(k.jsxs)("button",{className:"button buttonIcon",onClick:_,children:[Object(k.jsx)(I.a,{icon:C.j}),Object(k.jsx)("p",{children:"Discard"})]})]})]})});function V(){var t,n=localStorage.getItem("trashList");try{(n=JSON.parse(n))[0].name;t=!0}catch(c){t=!1,console.warn(c)}if(!0!==t)return"select"===e.type?Object(k.jsx)("option",{children:"Please select a trash"}):null;if("select"===e.type){var a=n.map((function(e,t){return Object(k.jsx)("option",{value:"".concat(e.name,"#").concat(t.toString()),children:e.name},e.name.toString()+t.toString())}));return sessionStorage.setItem("trashType","".concat(n[0].name,"#0")),a}if("settings"===e.type){var s=n.map((function(e,t){return Object(k.jsx)("li",{value:"".concat(e.name,"#").concat(t.toString()),className:"contentContainer",children:Object(k.jsxs)("div",{id:"trashListContent",className:"flex-row",children:[Object(k.jsx)("strong",{children:e.name}),Object(k.jsxs)("button",{value:"".concat(e.name,"#").concat(t.toString()),className:"editContentButton buttonIcon button",onClick:function(e){if(e.target.value){sessionStorage.setItem("action","update"),sessionStorage.setItem("trashType",e.target.value);var t=JSON.parse(localStorage.getItem("trashList")),n=e.target.value,a=t[n.split("#")[1]];v((function(){return a.name})),D((function(){return a.textColor})),T((function(){return a.color})),P((function(){return a.price})),M((function(){return n.split("#")[1]})),u((function(){return"Edit trash: ".concat(a.name)})),g(W),document.getElementById(r).style.display="block"}},children:[Object(k.jsx)(I.a,{icon:C.e}),"Edit Trash"]})]})},e.name.toString()+t.toString())}));return s}}function X(e){e.preventDefault();var t=document.getElementById("trashNameAdd").value,n=document.getElementById("trashColorAdd").value,a=document.getElementById("trashTextColorAdd").value,s=JSON.parse(localStorage.getItem("trashList"))||[],c=sessionStorage.getItem("action");if(t=t||null){if("add"===c){for(var o=!1,r=0;r<s.length;r++)s[r].name===t&&(o=!0);!1===o?(s.push({name:t,color:n,textColor:a,price:parseInt(q)}),localStorage.setItem("calendar".concat(t.toUpperCase()),JSON.stringify([{}])),console.log(s)):alert("Please provide a different name than already existing one")}else if("update"===c){var i=sessionStorage.getItem("trashType"),l=JSON.parse(localStorage.getItem("calendar".concat(i.split("#")[0].toUpperCase()))),d=JSON.parse(localStorage.getItem("stats")),u=Object.keys(d.year);for(var j in u){console.log(j,u[j]);var h=Object.keys(d.year[u[j]]);for(var b in h)console.log(b,h[b],i.split("#")[0],h[b]===i.split("#")[0]),h[b]===i.split("#")[0]&&(h[b]!==t&&(d.year[u[j]][t]=d.year[u[j]][h[b]],delete d.year[u[j]][h[b]]),console.log(d))}localStorage.setItem("stats",JSON.stringify(d)),localStorage.removeItem("calendar".concat(i.split("#")[0].toUpperCase())),s[i.split("#")[1]]={name:t,color:n,textColor:a,price:parseInt(q)},l.forEach((function(e){e.title=t})),localStorage.setItem("calendar".concat(t.toUpperCase()),JSON.stringify(l))}else console.warn("handleSummit has been called but nothing was done");localStorage.setItem("trashList",JSON.stringify(s))}_(e,!0),JSON.parse(localStorage.getItem("sync"))&&p.exportData("github")}function _(e,t){var n=t||!1;e.preventDefault(),document.getElementById("trashNameAdd").value="",document.getElementById("trashColorAdd").value="",document.getElementById("trashTextColorAdd").value="",document.getElementById(r).style.display="none",!0===n&&a((function(e){return!e}))}return"select"===e.type?Object(k.jsx)("select",{required:!0,name:"TrashList",onChange:function(e){sessionStorage.setItem("trashType",e.target.value)},children:V()}):"settings"===e.type?Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{id:"trashListContainer",children:[Object(k.jsx)("ul",{className:"trashList",children:V()}),Object(k.jsx)("div",{className:"buttonContainerSi",children:Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(){sessionStorage.setItem("action","add"),v((function(){return""})),T((function(){return"#3788d8"})),D((function(){return"#ffffff"})),P((function(){return 0})),u((function(){return"Add a new trash"})),g(Z),document.getElementById(r).style.display="block"},children:[Object(k.jsx)(I.a,{icon:C.g}),Object(k.jsx)("p",{children:"Add A New Trash"})]})})]}),Object(k.jsx)(J,{id:r,content:b,title:d})]}):null};n(137);var E=function(e){return Object(k.jsxs)("form",{id:e.id,className:"inputsForm",onSubmit:e.handleSubmit,autoComplete:"on",required:!0,children:[Object(k.jsxs)("div",{className:"flex-row input-zone",children:[Object(k.jsxs)("label",{className:"content-1",required:!0,children:[Object(k.jsx)("h2",{children:"Trash Selector"}),Object(k.jsx)(w,{type:"select"})]}),Object(k.jsxs)("label",{className:"content-2",required:!0,children:[Object(k.jsx)("h2",{children:"Time picker"}),Object(k.jsx)(T,{})]})]}),Object(k.jsx)("div",{className:"buttonContainerSi",children:Object(k.jsxs)("button",{disabled:e.disabled,className:"buttonIcon button",type:"submit",children:[Object(k.jsx)(I.a,{icon:C.g}),Object(k.jsx)("p",{children:e.buttonMessage})]})})]})},A=(n(138),function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).calendarRef=r.a.createRef(),a.state={disabled:!1,bannerType:"info",bannerContent:Object(k.jsx)("p",{children:"No Message has been set"}),display:!1},a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a.handleDelete=a.handleDelete.bind(Object(x.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.setCalendar()}},{key:"setCalendar",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.calendarRef.current.getApi(),n=localStorage.getItem("trashList"),this.noTrashSet(),n){console.log("trashList EXIST");try{n=JSON.parse(n),n[0].name,this.setState({disabled:!1}),this.trashSet()}catch(s){this.noTrashSet(),console.warn(s)}if(!1===this.state.disabled){for(a=function(e){t.addEventSource({events:function(t,a,c){try{a(JSON.parse(localStorage.getItem("calendar".concat(n[e].name.toUpperCase()))))}catch(s){console.warn(s),c([{}])}},color:n[e].color,textColor:n[e].textColor,id:"calendar".concat(n[e].name.toUpperCase())})},c=0;c<n.length;c++)a(c);t.refetchEvents()}}else this.noTrashSet();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"noTrashSet",value:function(){document.querySelectorAll("[type='date']").forEach((function(e){e.setAttribute("disabled","true")})),document.querySelectorAll("[name='TrashList']").forEach((function(e){e.setAttribute("disabled","true")})),console.log("trashList DOESNT EXIST"),this.setState({disabled:!0}),this.setState({bannerType:"warning"}),this.setState({bannerContent:Object(k.jsx)("p",{className:"clickable",onClick:function(){document.querySelector("a[href='/settings']").click()},children:"Please set at least one trash in the settings"})}),this.setState({display:!0})}},{key:"trashSet",value:function(){this.setState({display:!1}),this.setState({disabled:!1}),document.querySelectorAll("[type='date']").forEach((function(e){e.removeAttribute("disabled")})),document.querySelectorAll("[name='TrashList']").forEach((function(e){e.removeAttribute("disabled")}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("trashList")),n=sessionStorage.getItem("trashType"),a="calendar"+t[n.split("#")[1]].name.toUpperCase(),s=JSON.parse(localStorage.getItem(a));s.push({title:n.split("#")[0],date:sessionStorage.getItem("trashDate")}),localStorage.setItem(a,JSON.stringify(s)),this.calendarRef.current.getApi().refetchEvents();var c,o=localStorage.getItem("stats"),r=sessionStorage.getItem("trashDate").split("-"),i=Object(m.a)(r,3),l=i[0],d=i[1];i[2];try{(o=JSON.parse(o)).minYear;c=!0}catch(j){c=!1}if(!0===c){console.log("\nstats exist"),o.minYear>l&&(o.minYear=l,console.log("minYear is not the minus")),o.maxYear<l&&(o.maxYear=l,console.log("maxYear is not the biggest one"));try{console.log("check if trash exist"),o.year[l][n.split("#")[0]]?(console.log("trash exist"),o.year[l][n.split("#")[0]][parseInt(d)-1]++):(console.log("trash doesn't exist"),o.year[l][n.split("#")[0]]=[0,0,0,0,0,0,0,0,0,0,0,0],o.year[l][n.split("#")[0]][parseInt(d)-1]=1)}catch(j){console.log("year is not set","\n",j),o.year[l]=Object(g.a)({},n.split("#")[0],[0,0,0,0,0,0,0,0,0,0,0,0]),o.year[l][n.split("#")[0]][parseInt(d)-1]=1}localStorage.setItem("stats",JSON.stringify(o))}else{console.log("\nstats doesn't exist");var u={maxYear:l,minYear:l,year:Object(g.a)({},l,Object(g.a)({},n.split("#")[0],[0,0,0,0,0,0,0,0,0,0,0,0]))};u.year[l][n.split("#")[0]][parseInt(d)-1]=1,localStorage.setItem("stats",JSON.stringify(u))}JSON.parse(localStorage.getItem("sync"))&&p.exportData("github")}},{key:"handleDelete",value:function(e){e.preventDefault(),console.log("delete event");var t=document.querySelector("[id='delete'] input").value.split("-"),n=Object(m.a)(t,3),a=n[0],s=n[1],c=n[2];if(console.log(c),""!==c){console.log("delete begin");var o=JSON.parse(localStorage.getItem("stats")),r=document.querySelector("[id='delete'] select").value.split("#"),i=Object(m.a)(r,2),l=i[0],d=(i[1],"calendar"+l.toUpperCase()),u=JSON.parse(localStorage.getItem(d)),j=!1;if(u.forEach((function(e,t){!1===j&&e.date==="".concat(a,"-").concat(s,"-").concat(c)&&(u.splice(t,1),j=!0)})),!0===j)console.log(o,a,l,parseInt(s)),o.year[a][l][parseInt(s)-1]--,localStorage.setItem(d,JSON.stringify(u)),localStorage.setItem("stats",JSON.stringify(o)),this.calendarRef.current.getApi().refetchEvents();else alert("No trash set for ".concat(l," the ").concat(a,"-").concat(s,"-").concat(c))}JSON.parse(localStorage.getItem("sync"))&&p.exportData("github")}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"pageWrapper",children:Object(k.jsx)("div",{className:"pageScrollContainer",children:Object(k.jsx)("div",{id:"home",className:"page-frame",children:Object(k.jsxs)("div",{className:"grid",children:[Object(k.jsx)("div",{id:"calendar-container",className:"display-container",children:Object(k.jsx)(y.a,{ref:this.calendarRef,plugins:[N.a],initialView:"dayGridMonth",weekNumbers:!0,weekNumberFormat:{week:"numeric"}})}),Object(k.jsxs)("div",{id:"input-container",className:"display-container",children:[Object(k.jsxs)("div",{className:"inputBox",children:[Object(k.jsx)("h1",{className:"titleUnderline",children:"Add new event"}),Object(k.jsx)(E,{id:"add",disabled:this.state.disabled,buttonMessage:"Add a new event",handleSubmit:this.handleSubmit})]}),Object(k.jsxs)("div",{className:"inputBox",children:[Object(k.jsx)("h1",{className:"titleUnderline",children:"Remove event"}),Object(k.jsx)(E,{id:"delete",disabled:this.state.disabled,buttonMessage:"Delete an Event",handleSubmit:this.handleDelete})]})]})]})})})})}}]),n}(r.a.Component)),D=A,L=n.p+"static/media/undraw_lost_1.a5d55033.svg";n(139);var B=function(e){var t=Object(j.f)();function n(){t.push("/")}return Object(k.jsx)("div",{children:function(){if("404"===e.errorCode)return Object(k.jsxs)("div",{className:"pageWrapper",children:[Object(k.jsx)("div",{className:"pageScrollContainer",children:Object(k.jsxs)("div",{id:"error-404",className:"flex-col page-frame",children:[Object(k.jsx)("img",{src:L,alt:"A lost person with a tree"}),Object(k.jsxs)("strong",{onClick:n,children:["No page found for: ",Object(k.jsx)("code",{children:window.location.href})]})]})}),"*"]})}()})},q=(n(145),n(51).default);var P=function(e){Object(o.useEffect)((function(){i()}),[]);var t=Object(o.useState)(Object(k.jsx)("p",{children:"Anythings has been set"})),n=Object(m.a)(t,2),a=n[0],r=n[1];function i(){console.log(JSON.parse(localStorage.getItem("sync"))),JSON.parse(localStorage.getItem("sync"))?document.getElementById("syncGithub").innerHTML="Disconnect from GitHub":document.getElementById("syncGithub").innerHTML="Connect to GitHub"}function l(){return(l=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),JSON.parse(localStorage.getItem("gistId"))&&(q.delete("https://api.github.com/gists/".concat(JSON.parse(localStorage.getItem("gistId"))),{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token ".concat(JSON.parse(localStorage.getItem("githubToken")))}}).then((function(e){console.log(e)})),localStorage.removeItem("gistId"),localStorage.removeItem("githubToken"),localStorage.setItem("sync",JSON.stringify(!1)),i());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)("div",{className:"pageWrapper",children:Object(k.jsx)("div",{className:"pageScrollContainer",children:Object(k.jsx)("div",{id:"settings",className:"page-frame",children:Object(k.jsxs)("div",{id:"content-display",children:[Object(k.jsxs)("div",{id:"trash-container",className:"display-container",children:[Object(k.jsx)("h2",{children:"Trash"}),Object(k.jsx)(w,{type:"settings"})]}),Object(k.jsxs)("div",{id:"data-container",className:"display-container",children:[Object(k.jsx)("h2",{children:"Synchronization"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{id:"data-button-container",className:"flex-row",children:Object(k.jsx)("div",{children:Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(e){e.preventDefault(),JSON.parse(localStorage.getItem("sync"))?(localStorage.setItem("sync",JSON.stringify(!1)),localStorage.removeItem("githubToken"),localStorage.removeItem("gistId"),i()):(document.getElementById("syncPopup").style.display="block",r(Object(k.jsxs)("div",{id:"syncFrame",children:[Object(k.jsx)("div",{id:"githubSecretContainer",children:Object(k.jsx)("input",{id:"githubSecretInput",type:"password",placeholder:"Paste your GitHub GIST secret there"})}),Object(k.jsxs)("div",{id:"buttonContainer",className:"buttonContainerMul",children:[Object(k.jsxs)("button",{className:"button buttonIcon",onClick:function(e){e.preventDefault();var t=document.getElementById("githubSecretInput").value;if(document.getElementById("githubSecretInput").value=null,0===t.length)alert("Please don't set an empty token !");else q.get("https://api.github.com/gists",{headers:{Authorization:"token ".concat(t)}}).then((function(e){if(console.log(e),localStorage.setItem("githubToken",JSON.stringify(t)),localStorage.setItem("sync",JSON.stringify(!0)),i(),e.data.forEach((function(e){e.files["TrashCounterInformation.json"]&&(console.log("Gists already exist"),localStorage.setItem("gistId",JSON.stringify(e.id)),p.importData("github"))})),!localStorage.getItem("gistId")){console.log("Gists don't exist");q.post("https://api.github.com/gists",{files:{"TrashCounterInformation.json":{content:JSON.stringify({dataStructureVersion:"1.0.0"})},"localStorage.json":{content:JSON.stringify({dontUseMe:!0})}}},{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token ".concat(t)}}).then((function(e){console.log(e),localStorage.setItem("gistId",JSON.stringify(e.data.id)),p.exportData("github")}))}document.getElementById("syncPopup").style.display="none"}))},children:[Object(k.jsx)(I.a,{icon:C.h}),Object(k.jsx)("p",{children:"Save"})]}),Object(k.jsxs)("button",{className:"button buttonIcon",onClick:function(e){e.preventDefault(),document.getElementById("syncPopup").style.display="none"},children:[Object(k.jsx)(I.a,{icon:C.j}),Object(k.jsx)("p",{children:"Discard"})]})]})]})))},children:[Object(k.jsx)(I.a,{icon:C.b}),Object(k.jsx)("p",{id:"syncGithub",children:"Connect to GitHub"})]})})}),Object(k.jsx)(J,{id:"syncPopup",title:"Connect to GitHub",content:a})]}),Object(k.jsx)("h2",{children:"Data"}),Object(k.jsxs)("div",{id:"data-button-container",className:"flex-row",children:[Object(k.jsx)("div",{children:Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(){return p.importData("local")},children:[Object(k.jsx)(I.a,{icon:C.l}),Object(k.jsx)("p",{children:"Import Data"})]})}),Object(k.jsx)("div",{children:Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(){return p.exportData("local")},children:[Object(k.jsx)(I.a,{icon:C.d}),Object(k.jsx)("p",{children:"Export Data"})]})})]})]}),Object(k.jsxs)("div",{id:"news-container",className:"display-container",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"News"}),Object(k.jsx)("strong",{children:"Not working yet \ud83d\ude14"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"App information"}),Object(k.jsxs)("ul",{id:"appInfo",children:[Object(k.jsxs)("li",{children:[Object(k.jsx)("strong",{children:"App version:"})," ",localStorage.getItem("version")]}),Object(k.jsxs)("li",{children:[Object(k.jsx)("strong",{children:"App synchronization:"})," ",JSON.stringify(localStorage.getItem("sync"))]})]})]})]}),Object(k.jsxs)("div",{id:"dangerZone-container",className:"display-container",children:[Object(k.jsx)("h2",{children:"Danger Zone"}),Object(k.jsxs)("div",{className:"flex-row",children:[Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(e){e.preventDefault(),console.log("All was deleted"),Object.keys(localStorage).forEach((function(e){localStorage.removeItem(e)})),Object.keys(sessionStorage).forEach((function(e){sessionStorage.removeItem(e)})),window.location.reload(!0)},children:[Object(k.jsx)(I.a,{icon:C.k}),Object(k.jsx)("p",{children:"Delete all local data"})]}),Object(k.jsxs)("button",{className:"buttonIcon button",onClick:function(e){return l.apply(this,arguments)},children:[Object(k.jsx)(I.a,{icon:C.k}),Object(k.jsx)("p",{children:"Delete all remote data"})]})]})]})]})})})})},Y=n(39);n(251);var F=function(){var e=Object(o.useState)("none"),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(0),i=Object(m.a)(r,2),l=i[0],d=i[1],u=Object(o.useState)("none"),j=Object(m.a)(u,2),h=j[0],b=j[1],p=Object(o.useState)("none"),g=Object(m.a)(p,2),O=g[0],f=g[1],x=Object(o.useState)("none"),v=Object(m.a)(x,2),S=v[0],y=v[1],N=Object(o.useState)(0),I=Object(m.a)(N,2),C=I[0],T=I[1],J=Object(o.useState)(!1),w=Object(m.a)(J,2),E=w[0],A=w[1];function D(e){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(s.a.mark((function e(t){var n,c,o,r,i,l,u,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in n=t||JSON.parse(localStorage.getItem("stats")),c=JSON.parse(localStorage.getItem("trashList")),o={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[]},r={labels:[],datasets:[{label:"trashPrice",data:[],backgroundColor:[]}]},n.year[h]){for(l="",u=0;u<c.length;u++)i===c[u].name&&(l=c[u].color,r.labels.push(i),j=0,n.year[h][i].forEach((function(e){j+=e})),r.datasets[0].data.push(j*c[u].price),r.datasets[0].backgroundColor.push(l));o.datasets.push({label:i,data:n.year[h][i],backgroundColor:l,stack:"Stack 0"})}a((function(){return o})),d((function(){return r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(c.a)(s.a.mark((function e(t){var n,a,c,o,r,i,l,d,u,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t||JSON.parse(localStorage.getItem("stats")),a=JSON.parse(localStorage.getItem("trashList")),o={labels:[],datasets:[{label:"trashPrice",data:[],backgroundColor:[]}]},r={},(c={labels:[],datasets:[]}).labels=Object.keys(n.year),a.forEach((function(e){o.labels.push(e.name),r[e.name]={price:e.price,color:e.color}})),o.datasets[0].data=new Array(o.labels.length),o.datasets[0].backgroundColor=new Array(o.labels.length),i=function(e){var t=function(t){var s=!1,o=0;c.datasets.forEach((function(a,r){t===a.label&&(s=!0,n.year[c.labels[e]][t].forEach((function(e){o+=e})),c.datasets[r].data[e]=o)})),s||a.forEach((function(a){a.name===t&&(c.datasets.push({label:t,data:new Array(c.labels.length),backgroundColor:a.color}),n.year[c.labels[e]][t].forEach((function(e){o+=e})),c.datasets[c.datasets.length-1].data[e]=o)}))};for(var s in n.year[c.labels[e]])t(s)},l=0;l<c.labels.length;l++)i(l);for(d in n.year)for(j in u=function(e){var t=o.labels.findIndex((function(t){return t===e}));if(-1===t)console.error("ERROR WHILE CREATING DATAP2, index is equal to -1");else{var a=0;n.year[d][e].forEach((function(e){a+=e})),o.datasets[0].data[t]?o.datasets[0].data[t]+=a*r[e].price:o.datasets[0].data[t]=a*r[e].price,o.datasets[0].backgroundColor[t]||(o.datasets[0].backgroundColor[t]=r[e].color)}},n.year[d])u(j);y((function(){return c})),T((function(){return o}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){var e=localStorage.getItem("stats");try{if(e=JSON.parse(e),Object.keys(e.year[e.minYear]).length>0){b((function(){return e.minYear}));for(var t=[],n=parseInt(e.minYear);n<=e.maxYear;n++)t.push(Object(k.jsx)("option",{value:n,children:n},n));f((function(){return t})),A((function(){return!0})),function(e){B.apply(this,arguments)}()}}catch(a){document.getElementById("statsContainer").style.display="none",console.log("no trash set")}}),[]),Object(o.useEffect)((function(){!0===E&&D()}),[h]),Object(k.jsx)("div",{className:"pageWrapper",children:Object(k.jsx)("div",{className:"pageScrollContainer",children:Object(k.jsx)("div",{id:"stats",className:"page-frame",children:Object(k.jsxs)("div",{id:"statsContainer",className:"grid-container",children:[Object(k.jsxs)("div",{id:"currentYear",children:[Object(k.jsxs)("div",{className:"datePickerContainer",children:[Object(k.jsxs)("h1",{children:["Stats of the year ",Object(k.jsx)("em",{children:h})]}),Object(k.jsx)("select",{name:"Select trash year",id:"currentYearSelect",onChange:function(e){e.preventDefault(),b((function(){return e.target.value})),D(),console.log(e.target.value)},children:O})]}),Object(k.jsxs)("div",{id:"graphContainer",children:[Object(k.jsx)("div",{id:"trashStats",children:Object(k.jsx)(Y.a,{id:"trashStatsGraph",data:n,options:{plugins:{title:{text:"Trash by month in ".concat(h),display:!0}},responsive:!0,interaction:{intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}}})}),Object(k.jsx)("div",{id:"priceStat",children:Object(k.jsx)(Y.b,{id:"priceStatGraph",data:l,options:{plugins:{title:{text:"Total spend money by trash in ".concat(h),display:!0}},responsive:!0}})})]})]}),Object(k.jsxs)("div",{id:"allYear",children:[Object(k.jsx)("div",{className:"datePickerContainer",children:Object(k.jsx)("h1",{children:"Stats of years "})}),Object(k.jsxs)("div",{id:"graphContainer",children:[Object(k.jsx)("div",{id:"trashStats",children:Object(k.jsx)(Y.a,{id:"trashStatsGraph",data:S,options:{plugins:{title:{text:"All years trash",display:!0}},responsive:!0,interaction:{intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}}})}),Object(k.jsx)("div",{id:"priceStat",children:Object(k.jsx)(Y.b,{id:"priceStatGraph",data:C,options:{plugins:{title:{text:"All spends money",display:!0}},responsive:!0}})})]})]})]})})})})},G=(n(252),function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{id:"NavBar",children:Object(k.jsxs)("div",{id:"NavBarContent",className:"flex-col",children:[Object(k.jsx)("div",{id:"home",className:"flex-row",children:Object(k.jsx)(u.b,{to:"/",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(k.jsxs)("div",{className:"navButtonContent",children:[Object(k.jsx)(I.a,{size:"lg",icon:C.f}),Object(k.jsx)("p",{children:"Home"})]})})}),Object(k.jsx)("div",{id:"stats",className:"flex-row",children:Object(k.jsx)(u.b,{to:"/stats",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(k.jsxs)("div",{className:"navButtonContent",children:[Object(k.jsx)(I.a,{size:"lg",icon:C.a}),Object(k.jsx)("p",{children:"Stats"})]})})}),Object(k.jsx)("div",{className:"spacerH"}),Object(k.jsx)("div",{id:"settings",className:"flex-row",children:Object(k.jsx)(u.b,{to:"/settings",className:"link-normal",exact:!0,activeClassName:"link-active",onClick:window.scroll(0,0),children:Object(k.jsxs)("div",{className:"navButtonContent",children:[Object(k.jsx)(I.a,{size:"lg",icon:C.c}),Object(k.jsx)("p",{children:"Settings"})]})})})]})})}}]),n}(r.a.Component)),M=G,z=n(69);function U(e){function t(){return(t=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JSON.parse(localStorage.getItem("sync"))?(console.log("sync is activated"),p.importData("github")):(console.log("sync is not activated"),localStorage.setItem("sync",JSON.stringify(!1)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){localStorage.getItem("version")?console.log("not yet coded"):(console.log("Set version: ".concat(z.a)),localStorage.setItem("version",JSON.stringify(z.a)),localStorage.setItem("sync",JSON.stringify(!1))),function(){t.apply(this,arguments)}(),console.log("Index is mounted")}),[]),Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsxs)(u.a,{basename:"TrashCounter",children:[Object(k.jsx)(M,{}),Object(k.jsx)("div",{id:"invisibleZone"}),Object(k.jsxs)(j.c,{children:[Object(k.jsx)(j.a,{path:"/",exact:!0,component:D}),Object(k.jsx)(j.a,{path:"/stats",component:F}),Object(k.jsx)(j.a,{path:"/settings",component:P}),Object(k.jsx)(j.a,{path:"/",children:Object(k.jsx)(B,{errorCode:"404"})})]})]})})}l.a.render(Object(k.jsx)(U,{}),document.getElementById("root")),d()},26:function(e,t,n){},69:function(e){e.exports=JSON.parse('{"a":"0.0.0"}')}},[[253,1,2]]]);
//# sourceMappingURL=main.017ed70a.chunk.js.map